<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>C服务器测试代码</title>
    <link href="/post/C%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81.html"/>
    <url>/post/C%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81.html</url>
    
    <content type="html"><![CDATA[<h3 id="服务器"><a href="#服务器" class="headerlink" title="服务器"></a>服务器</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><code class="hljs cpp">    <span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;winsock.h&gt;</span><span class="hljs-comment">/*����winsockͷ�ļ�*/</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*---------------------�������---------------------------------*/</span><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-type">char</span> Sendbuf[<span class="hljs-number">100</span>];<span class="hljs-comment">/*�������ݵĻ�����*/</span><br><span class="hljs-type">char</span> Receivebuf[<span class="hljs-number">100</span>];<span class="hljs-comment">/*�������ݵĻ�����*/</span><br><span class="hljs-type">int</span> SendLen;<span class="hljs-comment">/*�������ݵĳ���*/</span><br><span class="hljs-type">int</span> ReceiveLen;<span class="hljs-comment">/*�������ݵĳ���*/</span><br><span class="hljs-type">int</span> Length;<span class="hljs-comment">/*��ʾSOCKADDR�Ĵ�С*/</span><br><br>SOCKET socket_server;<span class="hljs-comment">/*����������׽���*/</span><br>SOCKET socket_receive;  <span class="hljs-comment">/*�������������׽���*/</span><br><br>SOCKADDR_IN Server_add;<span class="hljs-comment">/*��������ַ��Ϣ�ṹ*/</span><br>SOCKADDR_IN Client_add;<span class="hljs-comment">/*�ͻ��˵�ַ��Ϣ�ṹ*/</span><br><br>WORD wVersionRequested;<span class="hljs-comment">/*�֣�word����unsigned short*/</span><br>WSADATA wsaData;<span class="hljs-comment">/*��汾��Ϣ�ṹ*/</span><br><span class="hljs-type">int</span> error;<span class="hljs-comment">/*��ʾ����*/</span><br><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*--------------------��ʼ���׽��ֿ�-------------------------*/</span><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*����汾���͡��������ֽ���ϳ�һ���֣�ǰ���ǵ��ֽڣ������Ǹ��ֽ�*/</span><br>wVersionRequested = <span class="hljs-built_in">MAKEWORD</span>(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>);<br><span class="hljs-comment">/*�����׽��ֿ⣬��ʼ��Ws2_32.dll��̬���ӿ�*/</span><br>error = <span class="hljs-built_in">WSAStartup</span>(wVersionRequested, &amp;wsaData);<br><span class="hljs-keyword">if</span>(error!=<span class="hljs-number">0</span>)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;�����׽���ʧ�ܣ�&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<span class="hljs-comment">/*�������*/</span><br>&#125;<br><span class="hljs-comment">/*�ж�������صİ汾���Ƿ����Ҫ��*/</span><br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">LOBYTE</span>(wsaData.wVersion) != <span class="hljs-number">2</span> ||<br>   <span class="hljs-built_in">HIBYTE</span>(wsaData.wVersion) != <span class="hljs-number">2</span>) <br>&#123;<br><span class="hljs-built_in">WSACleanup</span>();<span class="hljs-comment">/*�����ϣ��ر��׽��ֿ�*/</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<span class="hljs-comment">/*�������*/</span><br>&#125;<br><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*-------------------�������ӵ�ַ-----------------------------*/</span><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br>Server_add.sin_family=AF_INET;<span class="hljs-comment">/*��ַ���壬������AF_INET��ע��ֻ�������������ֽ�˳��*/</span><br>Server_add.sin_addr.S_un.S_addr=<span class="hljs-built_in">htonl</span>(INADDR_ANY);<span class="hljs-comment">/*������ַ*/</span><br>Server_add.sin_port=<span class="hljs-built_in">htons</span>(<span class="hljs-number">5000</span>);<span class="hljs-comment">/*�˿ں�*/</span><br><br><span class="hljs-comment">/*-------------------�����׽���--------------------------------*/</span><br><span class="hljs-comment">/*AF_INET��ʾָ����ַ�壬SOCK_STREAM��ʾ��ʽ�׽���TCP���ض��ĵ�ַ������ص�Э��*/</span><br>socket_server=<span class="hljs-built_in">socket</span>(AF_INET,SOCK_STREAM,<span class="hljs-number">0</span>);<br><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*---���׽��ֵ����ص�ĳ����ַ�Ͷ˿���----*/</span><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*socket_serverΪ�׽��֣�(SOCKADDR*)&amp;Server_addΪ��������ַ*/</span><br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">bind</span>(socket_server,(SOCKADDR*)&amp;Server_add,<span class="hljs-built_in">sizeof</span>(SOCKADDR))==SOCKET_ERROR)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;��ʧ��\n&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*--------------------�����׽���Ϊ����״̬----------------*/</span><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*����״̬��Ϊ������׼�������ȴ�����ĿΪ5*/</span><br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">listen</span>(socket_server,<span class="hljs-number">5</span>)&lt;<span class="hljs-number">0</span>)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;����ʧ��\n&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*----------------------��������--------------------------------*/</span><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br>Length=<span class="hljs-built_in">sizeof</span>(SOCKADDR);<br><span class="hljs-comment">/*���ܿͻ��˵ķ������󣬵ȴ��ͻ��˷���connect����*/</span><br>socket_receive=<span class="hljs-built_in">accept</span>(socket_server,(SOCKADDR*)&amp;Client_add,&amp;Length);<br><span class="hljs-keyword">if</span>(socket_receive==SOCKET_ERROR)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;��������ʧ��&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*-------------------��������-----------------------------------*/</span><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)<span class="hljs-comment">/*����ѭ��*/</span><br>&#123;<br><span class="hljs-comment">/*-------------------��������-----------------------------------*/</span><br>ReceiveLen =<span class="hljs-built_in">recv</span>(socket_receive,Receivebuf,<span class="hljs-number">100</span>,<span class="hljs-number">0</span>);<br><span class="hljs-keyword">if</span>(ReceiveLen&lt;<span class="hljs-number">0</span>)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;����ʧ��\n&quot;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;�����˳�\n&quot;</span>);<br><span class="hljs-keyword">break</span>;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;client say: %s\n&quot;</span>,Receivebuf);<br>&#125;<br><br><span class="hljs-comment">/*-------------------��������-----------------------------------*/</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;please enter message:&quot;</span>);<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>,Sendbuf);<br>SendLen=<span class="hljs-built_in">send</span>(socket_receive,Sendbuf,<span class="hljs-number">100</span>,<span class="hljs-number">0</span>);<br><span class="hljs-keyword">if</span>(SendLen&lt;<span class="hljs-number">0</span>)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;����ʧ��\n&quot;</span>);<br>&#125;<br>&#125;<br><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*--------------------�ͷ��׽��֣��رն�̬��-------------*/</span><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-built_in">closesocket</span>(socket_receive);<span class="hljs-comment">/*�ͷſͻ��˵��׽�����Դ*/</span><br><span class="hljs-built_in">closesocket</span>(socket_server);<span class="hljs-comment">/*�ͷ��׽�����Դ*/</span><br><span class="hljs-built_in">WSACleanup</span>();<span class="hljs-comment">/*�رն�̬���ӿ�*/</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;winsock.h&gt;</span><span class="hljs-comment">/*����winsockͷ�ļ�*/</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*----------------------�������--------------------------------*/</span><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-type">char</span> Sendbuf[<span class="hljs-number">100</span>];<span class="hljs-comment">/*�������ݵĻ�����*/</span><br><span class="hljs-type">char</span> Receivebuf[<span class="hljs-number">100</span>];<span class="hljs-comment">/*�������ݵĻ�����*/</span><br><span class="hljs-type">int</span> SendLen;<span class="hljs-comment">/*�������ݵĳ���*/</span><br><span class="hljs-type">int</span> ReceiveLen;<span class="hljs-comment">/*�������ݵĳ���*/</span><br><br>SOCKET socket_send;<span class="hljs-comment">/*�����׽���*/</span><br>SOCKADDR_IN Server_add;<span class="hljs-comment">/*��������ַ��Ϣ�ṹ*/</span><br><br>WORD wVersionRequested;<span class="hljs-comment">/*�֣�word����unsigned short*/</span><br>WSADATA wsaData;<span class="hljs-comment">/*��汾��Ϣ�ṹ*/</span><br><span class="hljs-type">int</span> error;<span class="hljs-comment">/*��ʾ����*/</span><br><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*---------------------��ʼ���׽��ֿ�------------------------*/</span><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*����汾���͡��������ֽ���ϳ�һ���֣�ǰ���ǵ��ֽڣ������Ǹ��ֽ�*/</span><br>wVersionRequested = <span class="hljs-built_in">MAKEWORD</span>(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>);<br><span class="hljs-comment">/*�����׽��ֿ⣬��ʼ��Ws2_32.dll��̬���ӿ�*/</span><br>error = <span class="hljs-built_in">WSAStartup</span>(wVersionRequested, &amp;wsaData);<br><span class="hljs-keyword">if</span>(error!=<span class="hljs-number">0</span>)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;�����׽���ʧ�ܣ�&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<span class="hljs-comment">/*�������*/</span><br>&#125;<br><span class="hljs-comment">/*�ж�������صİ汾���Ƿ����Ҫ��*/</span><br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">LOBYTE</span>(wsaData.wVersion) != <span class="hljs-number">2</span> ||<br>   <span class="hljs-built_in">HIBYTE</span>(wsaData.wVersion) != <span class="hljs-number">2</span>) <br>&#123;<br><span class="hljs-built_in">WSACleanup</span>();<span class="hljs-comment">/*�����ϣ��ر��׽��ֿ�*/</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<span class="hljs-comment">/*�������*/</span><br>&#125;<br><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*----------------------���÷�������ַ-----------------------*/</span><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br>Server_add.sin_family=AF_INET;<span class="hljs-comment">/*��ַ���壬������AF_INET��ע��ֻ�������������ֽ�˳��*/</span><br><span class="hljs-comment">/*�������ĵ�ַ����һ�����ʮ���Ʊ�ʾΪIP��ַ��inet_ntoa�ǽ���ַת�����ַ���*/</span><br>Server_add.sin_addr.S_un.S_addr = <span class="hljs-built_in">inet_addr</span>(<span class="hljs-string">&quot;192.168.1.43&quot;</span>);<br>Server_add.sin_port=<span class="hljs-built_in">htons</span>(<span class="hljs-number">5000</span>);<span class="hljs-comment">/*�˿ں�*/</span><br><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*-----------------------�������ӷ�����----------------------*/</span><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*�ͻ��˴����׽��֣����ǲ���Ҫ�󶨣�ֻ��Ҫ�ͷ��������������Ӽ���*/</span><br><span class="hljs-comment">/*socket_sendr��ʾ�����׽��֣�Server_add�Ƿ������ĵ�ַ�ṹ*/</span><br>socket_send=<span class="hljs-built_in">socket</span>(AF_INET,SOCK_STREAM,<span class="hljs-number">0</span>);<br><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*----------------------�����������ӵ��׽���--------------*/</span><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*AF_INET��ʾָ����ַ�壬SOCK_STREAM��ʾ��ʽ�׽���TCP���ض��ĵ�ַ������ص�Э��*/</span><br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">connect</span>(socket_send,(SOCKADDR*)&amp;Server_add,<span class="hljs-built_in">sizeof</span>(SOCKADDR)) == SOCKET_ERROR)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;����ʧ��!\n&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*----------------------��������--------------------------------*/</span><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)<span class="hljs-comment">/*����ѭ��*/</span><br>&#123;<br><span class="hljs-comment">/*---------------�������ݹ���---------------*/</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;please enter message:&quot;</span>);<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>,Sendbuf);<br>SendLen = <span class="hljs-built_in">send</span>(socket_send,Sendbuf,<span class="hljs-number">100</span>,<span class="hljs-number">0</span>);<span class="hljs-comment">/*��������*/</span><br><span class="hljs-keyword">if</span>(SendLen &lt; <span class="hljs-number">0</span>)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;����ʧ��!\n&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">/*--------------�������ݹ���-----------------*/</span><br>ReceiveLen =<span class="hljs-built_in">recv</span>(socket_send,Receivebuf,<span class="hljs-number">100</span>,<span class="hljs-number">0</span>);<span class="hljs-comment">/*��������*/</span><br><span class="hljs-keyword">if</span>(ReceiveLen&lt;<span class="hljs-number">0</span>)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;����ʧ��\n&quot;</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;�����˳�\n&quot;</span>);<br><span class="hljs-keyword">break</span>;<span class="hljs-comment">/*����ѭ��*/</span><br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Server say: %s\n&quot;</span>,Receivebuf);<br>&#125;<br>&#125;<br><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-comment">/*-----------------------�ͷ��׽��֣��رն�̬��----------*/</span><br><span class="hljs-comment">/*------------------------------------------------------------------*/</span><br><span class="hljs-built_in">closesocket</span>(socket_send);<span class="hljs-comment">/*�ͷ��׽�����Դ*/</span><br><span class="hljs-built_in">WSACleanup</span>();<span class="hljs-comment">/*�رն�̬���ӿ�*/</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>2023年3月12日 初一下学期第五周 周末作文     两个完全不同的人</title>
    <link href="/post/%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E5%A4%B9/%E7%AC%AC%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0.html"/>
    <url>/post/%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E5%A4%B9/%E7%AC%AC%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0.html</url>
    
    <content type="html"><![CDATA[<p>#0000FF 啊啊啊<br>那是一个早晨，记不清什么时候了，但发生的事却让我记忆犹新。</p><p>那个早晨，我乘地铁出门。正值上班的高峰期，地铁里挤满了人，连找个落脚的地方都难，我被挤靠门边的小角落里，紧紧抓着扶手。到了一个站随着地铁门打开，一位拄着拐杖的老奶奶从门外走来，老奶奶一只手臂上挂着一个绿色的小袋子，另一只拉着一个小车，应该是刚买完菜准备坐地铁回家。她每一步走得都很慢，背微微有点驼，加上拄着拐杖，总感觉颤巍巍的一不注意就会摔倒。那个老奶奶好不容易挤上了地铁，抬起头看了望了望四周，没有一个位置是空着的，只好无奈地重新低下头，找了个扶手握紧，将她的小推车立了起来。</p><p>那个老奶奶就这样颤巍巍地站了两个站，还是没有人主动让座，加上她乘地铁出来买菜，使她那年迈的身躯实在是有点吃不消，她只好跟在她旁边坐着的一个看手机的年轻人说：“麻烦可以让个位吗？”那个年轻人瞟了一眼老奶奶，又低头玩起了手机。老奶奶以为他没听清楚，又低声说了一遍：“麻烦可以让个位吗？”那个年轻人火气一下子就上来了，“为什么我要给你让位！”他大喊道，“别以为你是老人我就给你让位。”说完后，再次继续玩起了手机。经过这一番争吵所有人的目光都被吸引了过来，可所有人还是无动于衷，只是默默地在旁边看着，有的甚至还拿手机拍照。老奶奶的目光从年轻人身上闪躲开来，微微地抬起头再次四处张望了下周围的人，嘴巴张开刚想说些什么，但又合上了。她闪躲的目光最后聚焦到地面上，头又低沉下去了，好像什么事都没发生过，只是背又向下驼了些。</p><p>这时坐在那个年轻人旁边的一个孩子打破了尴尬的氛围，他站了起来，对那个奶奶说：“奶奶你做我这吧，我的位置给你。”那个孩子不高，看起来水灵水灵的，大概才上三年级。那个老奶奶，原本低沉的头再次抬了起来，挺了挺背，拄着拐杖颤巍巍的向那个孩子走去，那个老奶奶的眼睛眯成一个缝，虽然带着口罩但不难看出她对着那个孩子笑，从他那眼睛的缝中透露出无比的慈祥。她走到孩子跟前摸了摸那个孩子的头，用她那低哑的声音对孩子说：“奶奶谢谢你，真是个好孩子，以后一定大有作为。”说完便坐到了椅子上，卸下了袋子，从里面掏出了几颗糖给了那个小朋友。那个小朋友开心坏了，拿着糖就像拿着一份荣誉光荣极了，“妈妈你看今天做好事，拿了两颗糖耶！”奶奶也在旁边看着孩子，笑了。</p><p>社会总存有温情，当你还在感慨他人与社会对你不近人情时，说不定，那人世间的点滴温情就将降临到你的身上。就如同苏轼说的“人间自有真情在,宜将寸心报春晖”在感慨社会不义之时不如，不如献出自己的一份爱心，温暖他人，相信世间的温暖总会降临于身。</p><p>——衡圃社 六班 梁佳一</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/post/hello-world.html"/>
    <url>/post/hello-world.html</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
